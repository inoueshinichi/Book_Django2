<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    {% load static %}
    <link rel="stylesheet" href="{% static 'main.css' %}">
    <title>書籍フォーム</title>
</head>
<body>
    <h1>{{ title }}</h1>

    {% comment %}フォーム全体のバリデーションエラー{% endcomment %}
    {% if form.non_field_errors %}
    <ul>
        {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    {% comment %}multipart/form-data{% endcomment %}
    <form method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}
        {% comment %} {{ form.as_p }} は使用しない {% endcomment %}

        {% comment %}フォーム毎のバリデーションエラー{% endcomment %}
        {% for field in form %}
            <p>{{ field.label }}: {{ field }}</p>
            {% if field.errors %}
                <ul>
                    {% for error in field.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endfor %}

        <button type="submit">保存</button>
    </form>
</body>
</html>